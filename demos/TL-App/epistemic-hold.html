<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ternary Logic Framework - Sacred Pause Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #0f0f1e 0%, #1a1a2e 100%);
            color: #ffffff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header h1 {
            font-size: 28px;
            font-weight: 600;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
        }

        .header .subtitle {
            color: #9ca3af;
            font-size: 14px;
        }

        .header .author {
            color: #6b7280;
            font-size: 12px;
            margin-top: 4px;
        }

        .container {
            flex: 1;
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .demo-section {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .scenario-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .scenario-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #e5e7eb;
            padding: 15px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .scenario-btn:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .scenario-btn.active {
            background: rgba(102, 126, 234, 0.2);
            border-color: #667eea;
        }

        .scenario-btn .title {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 14px;
        }

        .scenario-btn .desc {
            font-size: 12px;
            color: #9ca3af;
        }

        .evaluation-area {
            margin-top: 30px;
        }

        .input-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .input-section h3 {
            font-size: 16px;
            margin-bottom: 15px;
            color: #e5e7eb;
        }

        .context-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .context-input {
            display: flex;
            flex-direction: column;
        }

        .context-input label {
            font-size: 12px;
            color: #9ca3af;
            margin-bottom: 5px;
        }

        .context-input select {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #e5e7eb;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 14px;
        }

        .evaluate-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
            width: 100%;
        }

        .evaluate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .evaluate-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Sacred Pause Animation */
        .sacred-pause {
            display: none;
            margin: 30px 0;
            padding: 30px;
            background: rgba(255, 193, 7, 0.05);
            border: 1px solid rgba(255, 193, 7, 0.2);
            border-radius: 16px;
            position: relative;
            overflow: hidden;
        }

        .sacred-pause.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .pause-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .heartbeat {
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, rgba(255, 193, 7, 0.8) 0%, rgba(255, 193, 7, 0) 70%);
            border-radius: 50%;
            margin-right: 20px;
            animation: heartbeat 1.5s ease-in-out infinite;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 1; }
        }

        .heartbeat-icon {
            width: 30px;
            height: 30px;
            background: rgba(255, 193, 7, 0.9);
            border-radius: 50%;
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(0.9); }
        }

        .pause-text {
            flex: 1;
        }

        .pause-text .main {
            font-size: 18px;
            color: #ffc107;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .pause-text .sub {
            font-size: 14px;
            color: #ffd54f;
            opacity: 0.8;
        }

        /* Thought Trace */
        .thought-trace {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid rgba(255, 193, 7, 0.1);
        }

        .thought-trace.collapsed {
            cursor: pointer;
        }

        .thought-trace-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .thought-trace-header h4 {
            color: #ffc107;
            font-size: 14px;
            font-weight: 600;
        }

        .expand-icon {
            color: #ffc107;
            transition: transform 0.3s ease;
        }

        .thought-trace.expanded .expand-icon {
            transform: rotate(180deg);
        }

        .thought-steps {
            display: none;
        }

        .thought-trace.expanded .thought-steps {
            display: block;
        }

        .thought-step {
            padding: 12px;
            margin-bottom: 10px;
            background: rgba(255, 193, 7, 0.05);
            border-left: 3px solid rgba(255, 193, 7, 0.5);
            border-radius: 8px;
        }

        .thought-step .label {
            font-size: 12px;
            color: #ffd54f;
            text-transform: uppercase;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .thought-step .content {
            font-size: 14px;
            color: #e5e7eb;
            line-height: 1.5;
        }

        /* Result Section */
        .result-section {
            margin-top: 30px;
            display: none;
        }

        .result-section.active {
            display: block;
            animation: slideUp 0.5s ease;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .outcome-badge {
            display: inline-flex;
            align-items: center;
            padding: 12px 24px;
            border-radius: 12px;
            font-weight: 600;
            margin-bottom: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .outcome-badge:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
        }

        .outcome-badge.proceed {
            background: rgba(34, 197, 94, 0.2);
            border: 1px solid rgba(34, 197, 94, 0.5);
            color: #22c55e;
        }

        .outcome-badge.hold {
            background: rgba(255, 193, 7, 0.2);
            border: 1px solid rgba(255, 193, 7, 0.5);
            color: #ffc107;
        }

        .outcome-badge.halt {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.5);
            color: #ef4444;
        }

        .outcome-badge .icon {
            margin-right: 10px;
            font-size: 20px;
        }

        .outcome-badge .state {
            font-size: 16px;
        }

        .reasoning-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 25px;
            margin-top: 20px;
        }

        .reasoning-card h4 {
            color: #e5e7eb;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .reasoning-card .reasoning-text {
            color: #9ca3af;
            line-height: 1.6;
            font-size: 14px;
        }

        .recommendations {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .recommendations h5 {
            color: #e5e7eb;
            margin-bottom: 12px;
            font-size: 14px;
        }

        .recommendation-item {
            padding: 10px;
            margin-bottom: 8px;
            background: rgba(255, 255, 255, 0.02);
            border-left: 2px solid rgba(102, 126, 234, 0.5);
            border-radius: 6px;
            font-size: 13px;
            color: #9ca3af;
        }

        .footer {
            text-align: center;
            padding: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #6b7280;
            font-size: 12px;
        }

        .footer a {
            color: #667eea;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Ternary Logic Framework - Sacred Pause Demo</h1>
        <div class="subtitle">Experience the Epistemic Hold in Real-Time Economic Decision Making</div>
        <div class="author">Created by Lev Goukassian | ORCID: 0009-0006-5966-1243</div>
    </div>

    <div class="container">
        <div class="demo-section">
            <h2 style="margin-bottom: 20px; font-size: 20px;">Select Economic Scenario</h2>
            <div class="scenario-selector">
                <button class="scenario-btn active" onclick="selectScenario('trading')">
                    <div class="title">📈 High-Frequency Trading</div>
                    <div class="desc">Large block trade with conflicting signals</div>
                </button>
                <button class="scenario-btn" onclick="selectScenario('merger')">
                    <div class="title">🏢 Merger Decision</div>
                    <div class="desc">Complex acquisition with mixed indicators</div>
                </button>
                <button class="scenario-btn" onclick="selectScenario('policy')">
                    <div class="title">🏦 Monetary Policy</div>
                    <div class="desc">Interest rate decision under uncertainty</div>
                </button>
                <button class="scenario-btn" onclick="selectScenario('supply')">
                    <div class="title">🚚 Supply Chain Crisis</div>
                    <div class="desc">Supplier disruption response strategy</div>
                </button>
            </div>

            <div class="evaluation-area">
                <div class="input-section">
                    <h3>Context Parameters</h3>
                    <div class="context-inputs" id="contextInputs">
                        <!-- Dynamic inputs based on scenario -->
                    </div>
                    <button class="evaluate-btn" onclick="startEvaluation()">
                        Evaluate with Ternary Logic
                    </button>
                </div>

                <!-- Sacred Pause Section -->
                <div class="sacred-pause" id="sacredPause">
                    <div class="pause-header">
                        <div class="heartbeat">
                            <div class="heartbeat-icon"></div>
                        </div>
                        <div class="pause-text">
                            <div class="main">Pausing to think...</div>
                            <div class="sub">Analyzing complexity and gathering wisdom</div>
                        </div>
                    </div>

                    <div class="thought-trace expanded" id="thoughtTrace">
                        <div class="thought-trace-header">
                            <h4>Thought Trace</h4>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div class="thought-steps">
                            <div class="thought-step">
                                <div class="label">Why I Paused</div>
                                <div class="content" id="pauseReason">Detecting conflicting signals requiring deeper analysis</div>
                            </div>
                            <div class="thought-step">
                                <div class="label">Checks I'm Running</div>
                                <div class="content" id="checksRunning">
                                    • Analyzing market volatility patterns<br>
                                    • Evaluating liquidity conditions<br>
                                    • Scanning for news catalysts<br>
                                    • Assessing risk thresholds
                                </div>
                            </div>
                            <div class="thought-step">
                                <div class="label">Next Step</div>
                                <div class="content" id="nextStep">Formulating recommendation based on uncertainty level</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Result Section -->
                <div class="result-section" id="resultSection">
                    <div class="outcome-badge" id="outcomeBadge" onclick="toggleReasoningCard()">
                        <span class="icon">⚪</span>
                        <span class="state">Epistemic Hold</span>
                    </div>

                    <div class="reasoning-card">
                        <h4>Decision Reasoning</h4>
                        <div class="reasoning-text" id="reasoningText">
                            The system has detected significant uncertainty in the current market conditions...
                        </div>

                        <div class="recommendations">
                            <h5>Recommended Actions</h5>
                            <div id="recommendations">
                                <!-- Dynamic recommendations -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <p>"The world is not binary. And the future will not be either."</p>
        <p>© 2025 Ternary Logic Framework | <a href="https://github.com/FractonicMind/TernaryLogic">GitHub</a></p>
    </div>

    <script>
        let currentScenario = 'trading';
        let evaluationInProgress = false;

        const scenarios = {
            trading: {
                title: 'High-Frequency Trading Decision',
                inputs: [
                    { id: 'volatility', label: 'Market Volatility', options: ['Low', 'Moderate', 'Elevated', 'Extreme'] },
                    { id: 'liquidity', label: 'Liquidity Conditions', options: ['Deep', 'Adequate', 'Thin', 'Minimal'] },
                    { id: 'momentum', label: 'Price Momentum', options: ['Strong Up', 'Moderate Up', 'Neutral', 'Down'] },
                    { id: 'news', label: 'News Sentiment', options: ['Very Positive', 'Mixed', 'Negative', 'No News'] }
                ]
            },
            merger: {
                title: 'Merger & Acquisition Decision',
                inputs: [
                    { id: 'financials', label: 'Financial Fit', options: ['Excellent', 'Good', 'Moderate', 'Poor'] },
                    { id: 'culture', label: 'Cultural Alignment', options: ['Strong', 'Moderate', 'Weak', 'Conflicting'] },
                    { id: 'market', label: 'Market Timing', options: ['Optimal', 'Favorable', 'Neutral', 'Unfavorable'] },
                    { id: 'regulatory', label: 'Regulatory Risk', options: ['Minimal', 'Low', 'Moderate', 'High'] }
                ]
            },
            policy: {
                title: 'Monetary Policy Decision',
                inputs: [
                    { id: 'inflation', label: 'Inflation Trend', options: ['Below Target', 'At Target', 'Above Target', 'Accelerating'] },
                    { id: 'employment', label: 'Employment Data', options: ['Very Strong', 'Strong', 'Moderate', 'Weakening'] },
                    { id: 'growth', label: 'Economic Growth', options: ['Robust', 'Steady', 'Slowing', 'Contracting'] },
                    { id: 'global', label: 'Global Conditions', options: ['Stable', 'Mixed', 'Uncertain', 'Crisis'] }
                ]
            },
            supply: {
                title: 'Supply Chain Crisis Response',
                inputs: [
                    { id: 'disruption', label: 'Disruption Severity', options: ['Minor', 'Moderate', 'Major', 'Critical'] },
                    { id: 'inventory', label: 'Current Inventory', options: ['Excess', 'Adequate', 'Low', 'Critical'] },
                    { id: 'alternatives', label: 'Alternative Suppliers', options: ['Ready', 'Available', 'Limited', 'None'] },
                    { id: 'cost', label: 'Cost Impact', options: ['Minimal', 'Acceptable', 'Significant', 'Severe'] }
                ]
            }
        };

        function selectScenario(scenario) {
            currentScenario = scenario;
            document.querySelectorAll('.scenario-btn').forEach(btn => btn.classList.remove('active'));
            event.target.closest('.scenario-btn').classList.add('active');
            
            // Update context inputs
            const inputsHtml = scenarios[scenario].inputs.map(input => `
                <div class="context-input">
                    <label>${input.label}</label>
                    <select id="${input.id}">
                        ${input.options.map(opt => `<option value="${opt}">${opt}</option>`).join('')}
                    </select>
                </div>
            `).join('');
            
            document.getElementById('contextInputs').innerHTML = inputsHtml;
            
            // Reset UI
            document.getElementById('sacredPause').classList.remove('active');
            document.getElementById('resultSection').classList.remove('active');
        }

        async function startEvaluation() {
            if (evaluationInProgress) return;
            evaluationInProgress = true;
            
            const btn = document.querySelector('.evaluate-btn');
            btn.disabled = true;
            btn.textContent = 'Evaluating...';
            
            // Hide previous results
            document.getElementById('resultSection').classList.remove('active');
            
            // Show Sacred Pause
            const pauseSection = document.getElementById('sacredPause');
            pauseSection.classList.add('active');
            
            // Get input values
            const inputs = {};
            scenarios[currentScenario].inputs.forEach(input => {
                inputs[input.id] = document.getElementById(input.id).value;
            });
            
            // Update thought trace based on scenario
            updateThoughtTrace(inputs);
            
            // Simulate processing time
            await new Promise(resolve => setTimeout(resolve, 3000));
            
            // Calculate result
            const result = calculateTernaryResult(inputs);
            
            // Show result
            showResult(result);
            
            // Reset button
            btn.disabled = false;
            btn.textContent = 'Evaluate with Ternary Logic';
            evaluationInProgress = false;
        }

        function updateThoughtTrace(inputs) {
            const scenario = scenarios[currentScenario];
            
            // Customize pause reason based on inputs
            let pauseReason = 'Multiple factors requiring careful analysis detected';
            let checks = [];
            
            if (currentScenario === 'trading') {
                if (inputs.volatility === 'Elevated' || inputs.volatility === 'Extreme') {
                    pauseReason = 'High volatility detected with conflicting momentum signals';
                }
                checks = [
                    'Analyzing volatility clusters and regime changes',
                    'Evaluating order book depth and microstructure',
                    'Scanning for hidden liquidity and dark pools',
                    'Checking correlation with sector movements'
                ];
            } else if (currentScenario === 'merger') {
                if (inputs.culture === 'Weak' || inputs.culture === 'Conflicting') {
                    pauseReason = 'Cultural misalignment raising integration concerns';
                }
                checks = [
                    'Evaluating synergy realization probability',
                    'Analyzing regulatory approval likelihood',
                    'Assessing integration complexity',
                    'Calculating risk-adjusted returns'
                ];
            } else if (currentScenario === 'policy') {
                if (inputs.inflation !== inputs.employment) {
                    pauseReason = 'Conflicting economic indicators requiring balanced analysis';
                }
                checks = [
                    'Analyzing Taylor Rule implications',
                    'Evaluating forward guidance consistency',
                    'Assessing financial stability risks',
                    'Checking international spillover effects'
                ];
            } else if (currentScenario === 'supply') {
                if (inputs.disruption === 'Critical' || inputs.inventory === 'Critical') {
                    pauseReason = 'Critical supply chain stress requiring immediate assessment';
                }
                checks = [
                    'Evaluating production continuity risks',
                    'Analyzing customer impact scenarios',
                    'Assessing alternative sourcing costs',
                    'Calculating buffer stock requirements'
                ];
            }
            
            document.getElementById('pauseReason').textContent = pauseReason;
            document.getElementById('checksRunning').innerHTML = checks.map(c => `• ${c}`).join('<br>');
            document.getElementById('nextStep').textContent = 'Synthesizing analysis into ternary decision state';
        }

        function calculateTernaryResult(inputs) {
            let score = 0;
            let uncertainty = 0;
            
            // Calculate based on scenario
            Object.values(inputs).forEach(value => {
                if (value.includes('Excellent') || value.includes('Strong') || value.includes('Optimal')) {
                    score += 2;
                } else if (value.includes('Good') || value.includes('Moderate') || value.includes('Adequate')) {
                    score += 1;
                    uncertainty += 0.5;
                } else if (value.includes('Mixed') || value.includes('Uncertain')) {
                    uncertainty += 1.5;
                } else if (value.includes('Poor') || value.includes('Critical') || value.includes('Crisis')) {
                    score -= 2;
                    uncertainty += 0.5;
                }
            });
            
            // Determine state
            let state, reasoning, recommendations;
            
            if (score > 4 && uncertainty < 2) {
                state = 'proceed';
                reasoning = 'Analysis indicates strong positive signals with manageable uncertainty. Market conditions support confident execution with standard risk controls.';
                recommendations = [
                    'Execute with standard position sizing',
                    'Implement trailing stop-loss protection',
                    'Monitor for condition changes'
                ];
            } else if (score < -2 || uncertainty > 4) {
                state = 'halt';
                reasoning = 'Significant risks detected that outweigh potential benefits. Multiple red flags suggest defensive positioning is prudent.';
                recommendations = [
                    'Postpone decision pending improvement',
                    'Reduce existing exposure if applicable',
                    'Set alerts for condition changes'
                ];
            } else {
                state = 'hold';
                reasoning = 'Mixed signals and elevated uncertainty warrant additional analysis. The Epistemic Hold preserves optionality while gathering more information.';
                recommendations = [
                    'Gather additional data points',
                    'Consider smaller test position',
                    'Set specific triggers for reassessment',
                    'Consult with domain experts'
                ];
            }
            
            return { state, reasoning, recommendations };
        }

        function showResult(result) {
            const badge = document.getElementById('outcomeBadge');
            const section = document.getElementById('resultSection');
            
            // Update badge
            badge.className = `outcome-badge ${result.state}`;
            if (result.state === 'proceed') {
                badge.innerHTML = '<span class="icon">✅</span><span class="state">+1 Proceed</span>';
            } else if (result.state === 'hold') {
                badge.innerHTML = '<span class="icon">⚪</span><span class="state">0 Epistemic Hold</span>';
            } else {
                badge.innerHTML = '<span class="icon">❌</span><span class="state">-1 Halt</span>';
            }
            
            // Update reasoning
            document.getElementById('reasoningText').textContent = result.reasoning;
            
            // Update recommendations
            const recsHtml = result.recommendations.map(rec => 
                `<div class="recommendation-item">${rec}</div>`
            ).join('');
            document.getElementById('recommendations').innerHTML = recsHtml;
            
            // Show result section
            section.classList.add('active');
        }

        function toggleReasoningCard() {
            const card = document.querySelector('.reasoning-card');
            card.style.display = card.style.display === 'none' ? 'block' : 'none';
        }

        // Initialize with trading scenario
        selectScenario('trading');
    </script>
</body>
</html>
